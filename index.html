<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>USS Arizona</title>

    <!--CUSTOM CSS-->
    <link rel="stylesheet" href="./css/USSArizona.css">

    <!--Slightly modified version of Aframe acquired from 8th Wall-->
    <script src="//cdn.8thwall.com/web/aframe/8frame-1.1.0.min.js"></script>
    <!--8th Wall Library handling the loading screen and other embedded AR functions-->
    <script src="//cdn.8thwall.com/web/xrextras/xrextras.js"></script>

    <!-- 8thWall app key -->
    <script async src="//apps.8thwall.com/xrweb?appKey=XXXXX"></script>

    <!--Scripts-->
    <script src="./js/uss-start-tracking.js"></script>
    <script src="./js/arsidebar.js"></script>
    <script src="./js/recenter.js"></script>

</head>

<body>

    <div id="container"></div>
    <div id="sidebar"></div>
    <div id="main"></div>

    <a-scene xrextras-almost-there
             xrextras-loading
             xrextras-runtime-error
             renderer="colorManagement:true"
             xrweb
             start-tracking
             populate-sidebar
             recenter="recenterDistance: 3; recenterHeight: 1; recenterFactor: 0">

        <a-assets>
            <a-asset-item id="3dmodel" src="assets/USS4.glb"></a-asset-item>
        </a-assets>

        <xrextras-capture-button capture-mode="standard"></xrextras-capture-button>

        <xrextras-capture-config max-duration-ms="120000"
                                 max-dimension="1280"
                                 enable-end-card="false"
                                 file-name-prefix="techcore-ar-"></xrextras-capture-config>

        <xrextras-capture-preview action-button-share-text="Share"
                                  action-button-view-text="View"
                                  finalize-text="Exporting..."></xrextras-capture-preview>

        <a-camera id="camera"
                  position="0 1 0">
        </a-camera>

        <a-entity light="
          type: directional;
          intensity: 0.8;
          castShadow: true;
          shadowMapHeight:2048;
          shadowMapWidth:2048;
          shadowCameraTop: 20;
          shadowCameraBottom: -20;
          shadowCameraRight: 20;
          shadowCameraLeft: -20;
          target: #camera"
                  xrextras-attach="target: camera; offset: 8 15 4"
                  position="1 4.3 2.5"
                  shadow>
        </a-entity>

        <a-light type="ambient" intensity="0.5"></a-light>

    </a-scene>
</body>
</html>